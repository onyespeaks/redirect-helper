<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Checking Access...</title>
</head>
<body>
  <p>🔐 Verifying your access. Please wait...</p>

  <script>
    // Apps Script endpoint WITH secret key
    const appsScriptURL = "https://script.google.com/macros/s/AKfycbz02GCF24FF1Vd8RdEdUS-ZxcDqQkVXYXvZo8RlZtF4vKKPaAw7g-nrTCIFBAVSfaQeUg/exec?k=abc123";

    // Destination Wix page
    const wixPageBase = "https://www.onyespeaks.com/selfadvocacy9";

    fetch(appsScriptURL)
      .then(res => res.json())
      .then(data => {
        if (data.token) {
          const redirectUrl = `${wixPageBase}?t=${data.token}`;
          window.location.replace(redirectUrl);
        } else {
          document.body.innerHTML = "<p>❌ Token generation failed.</p>";
        }
      })
      .catch(() => {
        document.body.innerHTML = "<p>⚠️ Error connecting to server.</p>";
      });
  </script>
</body>
</html>


